schema-version: 1.0

type: provider

var:
  memory: 512
  cpus: 1
#hostVersion is set by xbee
  hostVersion:
#disk is defined by the system pack used to launch the vm
  disk:

const:
  path: s3.eu-west-3.amazonaws.com/xbee.repository/providers


provision:
  - url:
      from: https://download.virtualbox.org/virtualbox/{{ .pack.hostVersion }}/VBoxGuestAdditions_{{ .pack.hostVersion }}.iso
      todir: /tmp
      unpack: false
    after: "{{ .templates }}/install.sh"
  - shell:
      cmd: "VBoxControl --nologo guestproperty get mac1 | cut -c 8-"
      out: mac1
  - shell:
      cmd: "VBoxControl --nologo guestproperty get mac2 | cut -c 8-"
      out: mac2


command:
  hostdata: "{{ .templates }}/hostdata.sh"


  
